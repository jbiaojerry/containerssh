<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="None">
  
  <link rel="canonical" href="https://projects.pasztor.at/containerssh/">
  <link rel="shortcut icon" href="img/favicon.png">
  
  <title>ContainerSSH: An SSH Server That Launches Containers</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="css/theme.css" />
  <link rel="stylesheet" href="css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  <link href="css/custom.css" rel="stylesheet" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Home";
    var mkdocs_page_input_path = "index.md";
    var mkdocs_page_url = "/containerssh/";
  </script>
  
  <script src="js/jquery-2.1.1.min.js" defer></script>
  <script src="js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
<meta property="og:type" content="website" />
<meta property="og:locale" content="en_US" />
<meta property="og:site_name" content="ContainerSSH: An SSH Server that Launches Containers" />
<meta property="og:title" content="Home"/>
<meta property="og:image" content="https://projects.pasztor.at/containerssh/img/opengraph.png" />
<meta property="og:url" content="https://projects.pasztor.at/containerssh/" />
<meta property="og:description" content="ContainerSSH is an SSH server that launches containers in Docker and Kubernetes." />

<link rel="apple-touch-icon-precomposed" href="https://projects.pasztor.at/containerssh/img/tileicon.png" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:description" content="ContainerSSH is an SSH server that launches containers in Docker and Kubernetes." />
<meta name="twitter:site" content="@janoszen" />
<meta name="twitter:title" content="ContainerSSH" />
<meta name="twitter:image" content="https://projects.pasztor.at/containerssh/img/opengraph.png" />
<meta name="theme-color" content="#da291c" />
<meta name="msapplication-navbutton-color" content="#da291c" />
<meta name="application-name" content="ContainerSSH" />
<meta name="msapplication-starturl" content="/" />
<meta name="HandheldFriendly" content="true" />
<meta name="msapplication-TileImage" content="https://projects.pasztor.at/containerssh/img/tileicon.png' | url }}" />

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="." class="icon icon-home"> ContainerSSH: An SSH Server That Launches Containers</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="./search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul class="current">
                    <li class="toctree-l1 current"><a class="reference internal current" href=".">Home</a>
    <ul class="current">
    </ul>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="quickstart/">Quick Start</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="installation/">Installation</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="configuration/">Configuration</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="authserver/">Authentication Server</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="configserver/">Configuration Server</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="backends/">Selecting a Backend</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="dockerrun/">The dockerrun Backend</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="kuberun/">The kuberun Backend</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="image/">Creating an Image</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="hardening/">Hardening</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="faq/">FAQ</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">API reference</span></p>
                <ul>
                    <li class="toctree-l1"><a class="" href="api/authconfig/">The AuthConfig Server â­§</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href=".">ContainerSSH: An SSH Server That Launches Containers</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".">Docs</a> &raquo;</li>
    
      
    
    <li>Home</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/janoszen/containerssh/edit/stable/docs/index.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1>ContainerSSH: An SSH server that launches containers</h1>

<p><a href="https://github.com/janoszen/containerssh/actions"><img alt="GitHub Workflow Status" src="https://img.shields.io/github/workflow/status/janoszen/containerssh/goreleaser?style=for-the-badge" /></a>
<a href="https://github.com/janoszen/containerssh/releases"><img alt="GitHub release (latest SemVer)" src="https://img.shields.io/github/v/release/janoszen/containerssh?sort=semver&amp;style=for-the-badge" /></a>
<a href="http://hub.docker.com/r/janoszen/containerssh"><img alt="Docker Image Size (latest by date)" src="https://img.shields.io/docker/image-size/janoszen/containerssh?style=for-the-badge" /></a>
<a href="https://goreportcard.com/report/github.com/janoszen/containerssh"><img alt="Go Report Card" src="https://goreportcard.com/badge/github.com/janoszen/containerssh?style=for-the-badge" /></a>
<a href="https://lgtm.com/projects/g/janoszen/containerssh/"><img alt="LGTM Alerts" src="https://img.shields.io/lgtm/alerts/github/janoszen/containerssh?style=for-the-badge" /></a>
<a href="https://github.com/janoszen/containerssh/blob/stable/LICENSE.md"><img alt="GitHub" src="https://img.shields.io/github/license/janoszen/containerssh?style=for-the-badge" /></a></p>
<p>This is a Proof of Concept SSH server written in Go that sends any shell directly into a Docker container or Kubernetes
pod instead of launching it on a local machine. It uses an HTTP microservice as an authentication endpoint for SSH
connections.</p>
<h2 id="what-is-this">What is this?<a class="headerlink" href="#what-is-this" title="Permanent link">&para;</a></h2>
<p>This is an <strong>SSH server that launches containers for every incoming connection</strong>. You can run it on the host or in a
container. It needs two things: an authentication server and access to your container environment.</p>
<p><img alt="Animation: SSH-ing into this SSH server lands you in a container where you can't access the network and you can't see any processes." src="https://pasztor.at/assets/img/ssh-in-action.gif" /></p>
<h2 id="use-cases">Use cases<a class="headerlink" href="#use-cases" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>Web hosting:</strong> Imagine user A has access to site X and Y, user B has access to site Y and Z. You can use
  ContainerSSH to mount the appropriate sites for the SSH session.</li>
<li><strong>Practicing environments:</strong> Launch dummy containers for practice environment.</li>
<li><strong>Honeypot:</strong> Let attackers into an enclosed environment and observe them.</li>
<li><strong>Security:</strong> Grant your developers on-demand access to environments with changing credentials.</li>
</ul>
<h2 id="how-does-it-work">How does it work?<a class="headerlink" href="#how-does-it-work" title="Permanent link">&para;</a></h2>
<pre><code>+------+        +--------------+   2.   +-------------------+
|      |        |              | -----&gt; |    Auth server    |
|      |        |              |        +-------------------+
|      |        |              |   
|      |   1.   |              |   3.   +-------------------+
| User | -----&gt; | ContainerSSH | -----&gt; |   Config server   |
|      |        |              |        +-------------------+
|      |        |              |   
|      |        |              |   4.   +-------------------+
|      |        |              | -----&gt; | Container Backend |
+------+        +--------------+        +-------------------+
</code></pre>

<ol>
<li>The user opens an SSH connection to ContainerSSH.</li>
<li>ContainerSSH calls the authentication server with the users username and password/pubkey to check if its valid.</li>
<li>ContainerSSH calls the config server to obtain backend location and configuration (if configured)</li>
<li>ContainerSSH calls the container backend to launch the container with the
   specified configuration. All input from the user is sent directly to the backend, output from the container is sent
   to the user.</li>
</ol>
<blockquote>
<p><strong>Curious?</strong> <a href="https://pasztor.at/blog/ssh-direct-to-docker">Learn more about how this works in my blog post.</a></p>
</blockquote>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="quickstart/" class="btn btn-neutral float-right" title="Quick Start">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p>Copyright &copy; Janos Pasztor and Contributors | <a href="https://projects.pasztor.at/containerssh/privacy/">Privacy Policy</a></p>
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/janoszen/containerssh/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
      
        <span style="margin-left: 15px"><a href="quickstart/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '.';</script>
    <script src="js/theme.js" defer></script>
      <script src="search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>

<!--
MkDocs version : 1.1
Build Date UTC : 2020-07-10 17:43:41
-->
